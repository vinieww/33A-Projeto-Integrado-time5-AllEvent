{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favoritos - Perfil</title>
    <link rel="icon" type="image/png" href="{% static 'favicon.jpg' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
<style>
        .header-container {
            display: flex;
            justify-content: space-between; 
            align-items: center;  
            width: 100%
        }

        .logo a {
            text-decoration: none;
            color: inherit;
        }
    </style>
</head>
<body>

    <header class="site-header compact">
        <div class="container header-container">
            <h1 class="logo">
                <a href="{% url 'home' %}">AllEvent</a>
            </h1>
            <a href="{% url 'perfil' %}" class="user-info">
                <i class="fas fa-user-circle user-icon"></i>
            </a>
        </div>
    </header>

    <main class="profile-container">
        <aside class="profile-nav">
            <div class="nav-links">
                <a href="{% url 'editar_dados' %}" class="nav-link">Editar Dados</a>
                <a href="{% url 'preferencias' %}" class="nav-link">Preferências</a>
                <a href="{% url 'favoritos' %}" class="nav-link">Favoritos</a>
            </div>
            <form action="{% url 'logout' %}" method="POST" style="display: inline;">
            {% csrf_token %}
                 <button type="submit" class="nav-link logout-button">Log-out</button>
            </form>
        </aside>

        <section class="profile-content">
            <h2>Favoritos</h2>
            <p>Aqui estão todos os eventos que você marcou como favoritos.</p>

            <div class="event-grid" style="margin-top: 24px;">
                
                {% for evento in eventos %}
                    <a href="{% url 'detalhe_evento' evento.id %}" class="event-card">
                        {% if evento.imagem %}
                            <img src="{{ evento.imagem.url }}" alt="{{ evento.nome }}">
                        {% else %}
                            <div style="height: 220px; background-color: #eee; display: flex; align-items: center; justify-content: center; color: #888;">
                                <i class="fas fa-image fa-2x"></i>
                            </div>
                        {% endif %}

                        <div class="body">
                            <div class="date-badge">
                                {{ evento.data|date:"d/m/Y" }}
                            </div>
                            <div class="title">
                                {{ evento.nome }}
                            </div>
                            <div class="uf">
                                <i class="fas fa-map-marker-alt"></i> {{ evento.local }}
                            </div>
                        </div>
                    </a>
                {% empty %}
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; background: #f9fafb; border-radius: 8px;">
                        <i class="far fa-heart fa-3x" style="color: #ccc; margin-bottom: 16px;"></i>
                        <p style="color: #666;">Você ainda não favoritou nenhum evento.</p>
                        <a href="{% url 'lista_eventos' %}" style="color: var(--primary-color); text-decoration: underline; font-weight: bold;">Explorar eventos</a>
                    </div>
                {% endfor %}

            </div>
        </section>
    </main>

</body>
</html>