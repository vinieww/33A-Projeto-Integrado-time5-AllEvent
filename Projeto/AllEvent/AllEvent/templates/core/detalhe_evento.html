{% extends "base.html" %}

{% block title %}{{ evento.nome }}{% endblock %}

{% block content %}

<div class="event-detail-page">

    <header class="event-banner">
        <div class="event-banner__name">
            <h1>{{ evento.nome }}</h1>
        </div>
        <div class="banner-separator"></div>
        <div class="event-banner__details">
            <p><strong>Local:</strong> {{ evento.local }}</p>
            <p><strong>Quando:</strong> {{ evento.data|date:"d/m/Y, H:i" }}</p>
        </div>
        <div class="event-banner__rating">
            <p>★★★★☆</p>
        </div>
    </header>

    <main class="event-content">
        
        <div class="event-content__main">
            <h2><i class="fas fa-info-circle"></i> Sobre o Evento</h2>

            <div class="main-content-wrapper">
                
                <div class="scrollable-content">
                    {% if evento.imagem %}
                        <img src="{{ evento.imagem.url }}" alt="..." class="event-image">
                    {% endif %}

                    {% if evento.descricao %}>
                        <p>{{ evento.descricao|linebreaks }}</p>
                    {% endif %}
                </div>
                
            </div>
        </div>

        <aside class="event-content__sidebar">
            <h2>Comentários</h2>
            <div class="comments-placeholder">
                <p>A seção de comentários estará disponível em breve!</p>
            </div>
        </aside>

    </main>
    <footer class="event-actions">
        
        <a href="{% url 'lista_eventos' %}"
           class="back-link"
           title="Voltar para a lista"
           aria-label="Voltar">
            &larr;
        </a>

        <form action="{% url 'toggle_favorito' evento.id %}" method="POST" style="margin: 0;">
            {% csrf_token %}
            <button type="submit" class="favorite-button" title="{% if esta_favoritado %}Remover dos Favoritos{% else %}Adicionar aos Favoritos{% endif %}">
                
                {% if esta_favoritado %}
                    <i class="fas fa-heart" style="color: var(--btn-red);"></i>
                {% else %}
                    <i class="far fa-heart"></i>
                {% endif %}

            </button>
        </form>
        
    </footer>

</div>

{% endblock %}